%!TEX root = Main.tex
\documentclass[Main]{subfiles}

\begin{document}

\section{Patterns used in the solution}\label{sec:patterns}
This section describes the different patterns used in this solution, and what they are used for. 
It should be noted that through exercise one to three, the patterns WrapperFa√ßade, Reactor, Bridge and Singleton where used, and so won't be mentioned further, unless they are required to. We choose to only specify the new patterns used.

\subsection{Acceptor/Connector}
The acceptor/connector pattern were already used to a certain degree in exercise three, however that was only a pseudo pattern, not the POSA2 pattern. 
Here the full pattern was implemented.
The Acceptor handles the server-side dispatching, accessing the service that should be handled, based on what event is raised.
The Connector registers the services on the client side, so that when a new connection should occur, the dispatcher would access the service handler to figure out, what to do with that type of connection.

\subsection*{Leader/Follower}
The Leader/Follower pattern handles the multi-threading of the server. The concept deals with a thread queue, and three different states; Leader, Follower and Processing. In the thread pool, a single thread is the leader, and the one that will handle incoming events. When an incoming event comes along, the leader thread takes it, elects a new leader and processes the event. If another event comes along, while the old leader processes the previous event, the new leader handles that event and elects a new leader and so on. When a processing thread is done, it checks to see if anyone is leader. If there is, then it becomes a follower, otherwise it becomes a leader.

\end{document}
